<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.2.3/jspdf.plugin.autotable.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://d3js.org/d3.v4.js"></script>
<button id="generate">Generate PDF</button>

<h1 id="head" style="background-color: red;">Rabbit-Monitoring-System</h1>

<table id="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Email</th>
            <th>Country</th>

        </tr>
    </thead>
    <tbody>
        <tr>
            <td align="right">1</td>
            <td>Donna</td>
            <td>Moore</td>
            <td>dmoore0@furl.net</td>
            <td>China</td>

        </tr>
        <tr>
            <td align="right">2</td>
            <td>Janice</td>
            <td>Henry</td>
            <td>jhenry1@theatlantic.com</td>
            <td>Ukraine</td>

        </tr>
        <tr>
            <td align="right">3</td>
            <td>Ruth</td>
            <td>Wells</td>
            <td>rwells2@constantcontact.com</td>
            <td>Trinidad and Tobago</td>

        </tr>
        <tr>
            <td align="right">4</td>
            <td>Jason</td>
            <td>Ray</td>
            <td>jray3@psu.edu</td>
            <td>Brazil</td>

        </tr>
        <tr>
            <td align="right">5</td>
            <td>Jane</td>
            <td>Stephens</td>
            <td>jstephens4@go.com</td>
            <td>United States</td>
        </tr>
        <tr>
            <td align="right">6</td>
            <td>Adam</td>
            <td>Nichols</td>
            <td>anichols5@com.com</td>
            <td>Canada</td>
        </tr>
    </tbody>

</table>

<div>
    <canvas id="myChart"></canvas>
</div>
<script>

    const ctx = document.getElementById('myChart')


    var dataValues = [12, 19,19,19,19,19, 3, 5];
    var dataLabels = [0, 1, 2, 3, 4];
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: dataLabels,
            datasets: [{
                label: 'Group A',
                data: dataValues,
                backgroundColor: 'rgba(255, 99, 132, 1)',
            }]
        },
        options: {
            scales: {
                xAxes: [{
                    display: false,
                    barPercentage: 1.3,
                    ticks: {
                        max: 3,
                    }
                }, {
                    display: true,
                    ticks: {
                        autoSkip: false,
                        max: 4,
                    }
                }],
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });

    var elem = document.getElementById("generate");
    elem.onclick = function () {





        const canvas = document.getElementById('myChart')
        const canvasImage = canvas.toDataURL('image')

        var doc = new jsPDF();
        doc.text(75, 20, "Overflow 'ellipsize' (default)");
        doc.autoTable({
            margin: { top: 50 },
            html: '#table',
            columnStyles: {
                5: { cellWidth: 40 }
            },
            bodyStyles: {
                minCellHeight: 10
            },
        });
        doc.addPage('a4', "portrait")
        doc.text(75, 20, "Overflow 'ellipsize' (default)");
        doc.addImage(canvasImage, 'JPEG', 15, 30, 185, 100)
        doc.save('table.pdf');
    };
</script>
